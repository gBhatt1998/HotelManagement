<div class="nav-bar">
  <nav class="navbar">
    <div class="container-fluid nav-container">

      <!-- Brand (always shown) -->
      <a class="navbar-brand" [routerLink]="!isLoggedIn ? '/' : null"
         [style.pointer-events]="isLoggedIn ? 'none' : 'auto'">
        <i class="fa-brands fa-monero"></i> METROPOLITAN
      </a>

      <!-- Toggle button (visible on mobile only) -->
      <button class="navbar-toggler" type="button" (click)="toggleMenu()">
        <span class="navbar-toggler-icon"></span>
      </button>

      <!-- Overlay for mobile -->
      <div class="navbar-overlay" [class.active]="menuOpen" (click)="closeMenu()"></div>

      <!-- Unified nav links (controlled with CSS) -->
      <div class="nav-links" [class.active]="menuOpen">
        <a class="nav-link" routerLink="/" (click)="closeMenu()">Make a Reservation</a>
        <a *ngIf="isLoggedIn && (userRole === 'ROLE_USER' || userRole === 'ROLE_ADMIN')"
           class="nav-link" routerLink="/guest" (click)="closeMenu()">My Reservations</a>
        <a *ngIf="isLoggedIn && userRole === 'ROLE_ADMIN'"
           class="nav-link" routerLink="/admin" (click)="closeMenu()">Admin Dashboard</a>

        <div class="auth-buttons">
          <a *ngIf="!isLoggedIn" class="btn btn-outline-light me-2" routerLink="/login" (click)="closeMenu()">Login Page</a>
          <button *ngIf="isLoggedIn" class="btn btn-light" (click)="logout()">Logout</button>
        </div>
      </div>
    </div>
  </nav>
</div>

<main class="content-wrapper">
  <router-outlet></router-outlet>
</main>
